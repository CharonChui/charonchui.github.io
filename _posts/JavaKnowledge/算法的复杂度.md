算法的复杂度
===


何为算法
---

算法是对特定问题求解步骤的一种描述，是独立存在的一种解决问题的方法和思想。它是指令的有限序列，其中每一条指令表示一个或多个操作；

此外，成为一个算法需要满足以下条件或特性:    

- 有穷性。一个算法必须总是在执行有穷步之后结束，且每一步都可在有穷时间内完成。
- 确定性。算法中每一条指令必须有确切的含义读者理解时不会产生二义性。并且，在任何条件下，算法只有唯一的一条执行路径，即对于相同的输入只能得出相同的输出。
- 可行性。一个算法是能行的，即算法中描述的操作都是可以通过已经实现的基本运算执行有限次来实现的。
- 输入。零个或多个的输入。
- 输出。一个或多个的输出。


算法的设计要求
---

通常设计一个好的算法应考虑达到以下目标:    

- 正确性:对于合法输入能够得到满足的结果；算法能够处理非法处理，并得到合理结果；算法对于边界数据和压力数据都能得到满足的结果。
- 可读性。算法要方便阅读，理解和交流，只有自己能看得懂，其它人都看不懂，谈和好算法。
- 健壮性。算法不应该产生莫名其妙的结果，一会儿正确，一会儿又是其它结果。
- 高性价比，效率与低存储量需求。利用最少的时间和资源得到满足要求的结果，可以通过(时间复杂度和空间复杂度来判定)



算法复杂度分为:   

- 时间复杂度:指执行算法所需要的计算工作量
- 空间复杂度:指执行这个算法所需要的内存空间

简单来说，时间复杂度指的是语句执行次数，空间复杂度指的是算法所占的存储空间。 


时间复杂度
---

什么是时间复杂度，算法中某个函数有n次基本操作重复执行，用T(n)表示，现在有某个辅助函数f(n),使得当n趋近于无穷大时，T（n)/f(n)的极限值为不等于零的常数，则称f(n)是T(n)的同数量级函数。记作T(n)=O(f(n)),称O(f(n)) 为算法的渐进时间复杂度，简称时间复杂度。通俗一点讲，其实所谓的时间复杂度，就是找了一个同样曲线类型的函数f(n)来表示这个算法的在n不断变大时的趋势 。当输入量n逐渐加大时，时间复杂性的极限情形称为算法的“渐近时间复杂性”。 

- 时间频度        

    一个算法执行所耗费的时间，从理论上是不能算出来的，必须上机运行测试才能知道。但我们不可能也没有必要对每个算法都上机测试，只需知道哪个算法花费的时间多，哪个算法花费的时间少就可以了。并且一个算法花费的时间与算法中语句的执行次数成正比例，哪个算法中语句执行次数多，它花费时间就多。一个算法中的语句执行次数称为语句频度或时间频度。记为`T(n)`。（算法中的基本操作一般指算法中最深层循环内的语句）

- 时间复杂度      

    在刚才提到的时间频度中，`n`称为问题的规模，当`n`不断变化时，时间频度`T(n)`也会不断变化。但有时我们想知道它变化时呈现什么规律。为此，我们引入时间复杂度的概念。
    
    
在进行算法分析时，语句总的执行次数`T(n)`是关于问题规模`n`的函数，进而分析`T(n)`随`n`的变化情况并确定`T(n)`的数量级。
算法的时间复杂度，也就是算法的时间量度，记作`T(n) = O(f(n))`。它表示随问题规模`n`的增大，算法执行时间的增长率和`f(n)`的增长率相同，
称为算法的渐近时间复杂度，简称为时间复杂度。其中`f(n)`是规模`n`的某个函数。


大`O`表示法
---

像前面用`O()`来体现算法时间复杂度的记法，我们称之为大O表示法。用`O()`来体现算法时间复杂度的记法，叫作大`O`记法。


按数量级递增排列，常见的时间复杂度有:   
常数阶`O(1)`,对数阶`O(log2n)`(以2为底`n`的对数，下同),线性阶`O(n)`,
线性对数阶`O(nlog2n)`,平方阶`O(n^2)`，立方阶`O(n^3)`,...，
`k`次方阶`O(n^k)`,指数阶`O(2^n)`。随着问题规模`n`的不断增大，上述时间复杂度不断增大，算法的执行效率越低。


##### 推导大`O`阶方法

- 用常数1取代运行时间中的所有加法常数。
- 在修改后的运行次数函数中，只保留最高阶项。
- 如果最高阶项存在且不是1，则去除与这个项相乘的常数。


##### 常数阶

`O(1)`的算法是一些运算次数为常数的算法。例如:
```java
temp=a;a=b;b=temp;
```

上面语句共三条操作，单条操作的频度为1，即使他有成千上万条操作，也只是个较大常数，这一类的时间复杂度为`O(1)`。

##### 线性阶

`O(n)`的算法是一些线性算法。例如:  
```java
sum=0；                 
for(i=0;i<n;i++) {
    sum++；
}
```

上面代码中第一行频度1，第二行频度为`n`，第三行频度为n，所以`f(n)=n+n+1=2n+1`。所以时间复杂度`O(n)`。这一类算法中操作次数和`n`正比线性增长。

##### 对数阶

`O(logn)`一个算法如果能在每个步骤去掉一半数据元素，如二分检索，通常它就取`O(logn)`时间。举个栗子:  
```java
int i=1; 

while (i<=n) {
    i=i*2; 
}
```
上面代码设第三行的频度是`f(n)`,   则：2的`f(n)`次方`<=n`;`f(n)<=log₂n`，取最大值`f(n)= log₂n`，所以`T(n)=O(log₂n )`。


##### 平方阶

`O(n²)`（n的k次方的情况）最常见的就是平时的对数组进行排序的各种简单算法都是`O(n²)`，例如直接插入排序的算法。

```java
sum=0；                
for(i=0;i<n;i++) {
    for(j=0;j<n;j++) {
        sum++；
    }
}
```
第一行频度1，第二行`n`，第三行`n²`，第四行`n²`，`T(n)=2n²+n+1 =O(n²)`

##### 指数阶

O(2的`n`次方) 比如求具有`n`个元素集合的所有子集的算法 

##### 阶乘阶

`O(n!)`比如求具有`n`个元素的全排列的算法

时间复杂度按n越大算法越复杂来排的话:

常数阶`O(1)`、对数阶`O(logn)`、线性阶`O(n)`、线性对数阶`O(nlogn)`、平方阶`O(n²)`、立方阶`O(n³)`、……`k`次方阶`O`(`n`的`k`次方)、指数阶`O`(2的`n`次方)。



空间复杂度
---

算法的空间复杂度并不是计算实际占用的空间，而是计算整个算法的辅助空间单元的个数，与问题的规模没有关系。算法的空间复杂度`S(n)`定义为该算法所耗费空间的数量级。
`S(n)=O(f(n))`若算法执行时所需要的辅助空间相对于输入数据量`n`而言是一个常数，则称这个算法的辅助空间为`O(1)`; 
递归算法的空间复杂度:递归深度`N*`每次递归所要的辅助空间， 如果每次递归所需的辅助空间是常数，则递归的空间复杂度是`O(N)`.

空间复杂度的分析方法:   

- 一个算法的空间复杂度`S(n)`定义为该算法所耗费的存储空间，它也是问题规模`n`的函数。空间复杂度是对一个算法在运行过程中临时占用存储空间大小的量度。
- 一个算法在计算机存储器上所占用的存储空间，包括存储算法本身所占用的存储空间，算法的输入输出数据所占用的存储空间和算法在运行过程中临时占用的存储空间这三个方面。
- 一个算法的空间复杂度只考虑在运行过程中为局部变量分配的存储空间的大小，它包括为参数表中形参变量分配的存储空间和为在函数体中定义的局部变量分配的存储空间两个部分。

　　算法的空间复杂度一般也以数量级的形式给出。如当一个算法的空间复杂度为一个常量，即不随被处理数据量`n`的大小而改变时，可表示为`O(1)`；
　　当一个算法的空间复杂度与以2为底的`n`的对数成正比时，可表示为`O(log2n)`；
　　当一个算法的空间复杂度与`n`成线性比例关系时，可表示为`O(n)`。若形参为数组，则只需要为它分配一个存储由实参传送来的一个地址指针的空间，
　　即一个机器字长空间；若形参为引用方式，则也只需要为其分配存储一个地址的空间，用它来存储对应实参变量的地址，
　　以便由系统自动引用实参变量。

空间复杂度补充:      

一个程序的空间复杂度是指运行完一个程序所需内存的大小。利用程序的空间复杂度，可以对程序的运行所需要的内存多少有个预先估计。
一个程序执行时除了需要存储空间和存储本身所使用的指令、常数、变量和输入数据外，还需要一些对数据进行操作的工作单元和存储一些为现实计算所需信息的辅助空间。
程序执行时所需存储空间包括以下两部分:      　　

- 固定部分。这部分空间的大小与输入/输出的数据的个数多少、数值无关。主要包括指令空间（即代码空间）、数据空间（常量、简单变量）等所占的空间。这部分属于静态空间。
- 可变空间，这部分空间的主要包括动态分配的空间，以及递归栈所需的空间等。这部分的空间大小与算法有关。一个算法所需的存储空间用`f(n)`表示。`S(n)=O(f(n))`其中`n`为问题的规模，`S(n)`表示空间复杂度。


时间与空间复杂度比较
---

对于一个算法，其时间复杂度和空间复杂度往往是相互影响的。当追求一个较好的时间复杂度时，可能会使空间复杂度的性能变差，
即可能导致占用较多的存储空间；反之，当追求一个较好的空间复杂度时，可能会使时间复杂度的性能变差，即可能导致占用较长的运行时间。
另外，算法的所有性能之间都存在着或多或少的相互影响。因此，当设计一个算法（特别是大型算法）时，要综合考虑算法的各项性能，算法的使用频率，算法处理的数据量的大小，算法描述语言的特性，算法运行的机器系统环境等各方面因素，才能够设计出比较好的算法。



---

- 邮箱 ：charon.chui@gmail.com  
- Good Luck! 